
Bioinformatics Data Skills
==========================
  
  [@wikidata:Q105756183]  
  

# Highlights

## Chapter 2 

The  actual  process  is  quite  simple:  laying  out  a  project  only entails  creating  a  few  directories  with  mkdir  and  empty  README  files  with  touch(commands we’ll see in more depth later). But this simple initial planning pays off inthe long term.

In these cases, it’s important to always use relative paths (e.g., ../data/stats/qual.txt). Using absolute paths leaves your work less portable between collaborators and decreases reproducibility.

- Document your methods and workflows

This should include full command lines (copied and pasted) that are run throughthe  shell  that  generate  data  or  intermediate  results.

--> I never do that, shame on me

- Document the origin of all data in your project directory

You need to keep track of where data was downloaded from, who gave it to you,and  any  other  relevant  information. It’s  important  to  include  when  the  data  was  downloaded.

- Document the versions of the software that you ran

All of this information is best stored in plain-text README files. 
Where  should  you  keep  your  README  files?  A  good  approach  is  to  keep  READMEfiles in each of your project’s main directories.

Ultimately,  you’ll  arrive  at  your  own  project  organization  system  thatworks for you; the take-home point is: leverage directories to help stay organized.

### Shell Expansion Tips

 If you’ve ever typed cd ~ togo  to  your  home  directory,  you’ve  used  shell  expansion—it’s  yourshell  that  expands  the  tilde  character  (~)

 $ mkdir -p zmays-snps/{data/seqs,scripts,analysis}

 it’s best to be as restrictive as possible when using wildcards. Instead of zmaysB*,use zmaysB*fastq or zmaysB_R?.fastq (the ? only matches a single character).

 Another useful trick is to use leading zeros (e.g., file-0021.txt ratherthan  file-21.txt)  when  naming  files.

--> Malandragem

### Markdown for Project Notebooks

Plain text is alsoa   future-proof  format:  plain-text  files  written  in  the  1960s  are  still  readable  today,whereas files from word processors only 10 years old can be difficult or impossible toopen  and  edit. 

Pandoc can convert between a variety of different markup and output formats. UsingPandoc  is  very  simple—to  convert  from  Markdown  to  HTML,  use  the  --from markdown and --to html options and supply your input file as the last argument:$ pandoc --from markdown --to html notebook.md > output.html


## Chapter 3

--> Pergunta: Qual a primeira vez que vcs se sentiram impressionados com o poder do shell?

The  Unix  shell  provides  a  way  for  these  programs  to  talk  to  each  other  (pipes)  andwrite to and read files (redirection).
We’ll address Unix streams in this chapter, but the conceptof  a  stream  is  very  important  in  how  we  process  large  data.
If   I   needed   to   search   for   the   exact   string   “GTGAT‐TAACTGCGAA”  in  this  data,  I  couldn’t  open  up  a  lane  of  data  in  Notepad  and  usethe  Find  feature  to  pinpoint  where  it  occurs—there  simply  isn’t  enough  memory  tohold  all  these  nucleotides  in  memory.  Instead,  tools  must  rely  on  streams  of  data,being  read  from  a  source  and  actively  processed.

make sure you’re using the Bourne-again shell,  or  bash.
--> The z shell is cooler though https://en.wikipedia.org/wiki/Z_shell

In  mydaily  bioinformatics  work,  I  use  Z  shell  (zsh)

--> Noice

Unix  was  not  designed  to  stop  its  users  from  doing  stupid  things,  as  that  would  alsostop them from doing clever things.
—Doug Gwyn

--> This is a very generalizable principle. It is the basis of Wiki, in a sense. 

Additionally,  pasting  contents  into  a  file  doesn’t  follow  a  recommendation  fromChapter 1: treat data as read-only.

wecan  combine  large  files  by  printing  their  contents  to  the  standard  output  stream and redirect this stream from our terminal to the file we wish to save the combined resultsto.

We  use  the  operators  >  or  >>  to  redirect  standard  output  to  a  file.  The  operator  >redirects  standard  output  to  a  file  and  overwrites  any  existing  contents  of  the  file(take  note  of  this  and  be  careful),  whereas  the  latter  operator  >>  appends  to  the  file(keeping  the  contents  and  just  adding  to  the  end).

lrt  to  the  ls  lists  files  in  this  directory  in  list  format  (-l),  in  reverse  (-r)time  (-t)  order

Like standardoutput,  standard  error  is  by  default  directed  to  your  terminal.  In  practice,  we  oftenwant to redirect the standard error stream to a file so messages, errors, and warningsare logged to a file we can check later.

standard error stream, 2>

--> Cool, did not know that

Unix-like  operating  systems  have  a  special  “fake”  disk(known as a pseudodevice) to redirect unwanted output to: /dev/null. Output writtento  /dev/null  disappears,  which  is  why  it’s  sometimes  jokingly  referred  to  as  a  “black‐hole” by nerds.

It’s a bit more common to use Unix pipes (e.g., cat inputfile | program > outputfile) than <

We  use  pipes  in  bioinformatics  (quite  compulsively)not only because they are useful way of building pipelines, but because they’re faster(in  some  cases,  much  faster).

The Golden Rule of Bioinformatics is to not trust your tools or data. This skepticismrequires  constant  sanity  checking  of  intermediate  results,  which  ensures  your  meth‐ods  aren’t  biasing  your  data,  or  problems  in  your  data  aren’t  being  exacerbated  byyour methods

invert  the  matching  lines  with  the  grep  option  -v.

 Whenused in brackets, a caret symbol matches anything that’s not one of the charactersin these brackets. So the pattern [^ATCG] matches any character that’s not A, T, C,or  G.  Also,  we  ignore  case  with  -i,  because  a,  t,  c,  and  g  are  valid  nucleotides(lowercase characters are often used to indicate masked repeat or low-complexitysequences).  Finally,  we  add  grep’s  --color  option  to  color  the  matching  non-nucleotide characters

 --> cool

 Most bioinformaticians have made this mistake at somepoint and learned the hard way (by losing the FASTA file they were hoping to grep),so beware.

 --> Dang that sucks

 backslash  is  used  to  split  these  commandsacross multiple lines to improve readability (and is optional in your own work).Meanwhile,  program2  uses  the  standard  output  from  program1  as  its  standa

 --> I underuse that

 The 2>&1 operator is what redirects standard error to the standard output stream.

  Like  aplumber’s  T  joint,  the  Unix  program  tee  diverts  a  copy  of  your  pipeline’s  standardoutput  stream  to  an  intermediate  file  while  still  passing  it  through  its  standard  out‐put:$ program1 input.txt | tee intermediate-file.txt | program2 > results.txt

  --> Also super cool.

  We  can  tell  the  Unix  shell  to  run  a  program  in  the  background  by  appending  anampersand (&) to the end of our command

  --> rstudio . & saves lives

e can suspend processes by sending a stopsignal  through  the  key  combination  Control-z hen  use  the  bg  com‐mand  to  run  it  in  the  background. 

 If the process is currently runningin your shell, you can kill it by entering Control-C

y  Unix  standards,  an  exit  status  of  0  indicates  the  process  ran  successfully,  and  anynonzero status indicates some sort of error has occurred (and hopefully the programprints an understandable error message, too).

--> Learned that on CS50

The exit status isn’t printed to the terminal, but your shell will set its value to a vari‐able in your shell (aptly named a shell variable) named $?
completed successfully (&&), and one operator that runs the next command only if thefirst  completed  unsuccessfully  (||)


command  substitution.  Commandsubstitution runs a Unix command inline and returns the output as a string that canbe used in another command.

Using  this  command  substitution  approach,  we  can  easily  create  dated  directories
$ mkdir results-$(date +%F)$
$ ls results-2015-04-13

hen results are sorted by name, directories in this format also sort chrono‐logically
The cleverness behind this is what makes this date format, known as ISO 8601, useful.

A  word  of  warning,  though:  do  not  use  your  aliased  command  inproject-level  shell  scripts!  These  reside  in  your  shell’s  startup  file(e.g., ~/.profile or ~/.bashrc), which is outside of your project directory.



# Comments

## Tags

# Links
  
 * [Scholia Profile](https://scholia.toolforge.org/work/Q105756183)  
 * [Wikidata](https://www.wikidata.org/wiki/Q105756183)  
 * [TABernacle](https://tabernacle.toolforge.org/?#/tab/manual/Q105756183/P921%3BP4510)  
 * [Author Disambiguator](https://author-disambiguator.toolforge.org/work_item_oauth.php?id=Q105756183&batch_id=&match=1&author_list_id=&doit=Get+author+links+for+workhttps://tabernacle.toolforge.org/?#/tab/manual/Q105756183/P921%3BP4510)  
